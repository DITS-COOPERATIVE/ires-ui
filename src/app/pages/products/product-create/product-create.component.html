<div class="container bg-white">
  <form (ngSubmit)="saveProduct()" #productForm="ngForm">
  <div>
    <div class="image-upload-container">
      <input
        name="image"
        type="file"
        accept="image/x-png, image/jpeg"
        style="display: none"
        id="file-input"
        [(ngModel)]="image"
        (change)="onFileSelected($event)"
      />
      <label for="file-input" class="container-click-area">
        <div class="image-previews mt-2 me-5">
          <div class="image">
            <i class="fas fa-camera"></i>
            <img [src]="selectedImage" alt="Selected Image" *ngIf="selectedImage" class="selected-image">
          </div>
        </div>
      </label>
    </div>
  </div>
  
    <div
      class="alert alert-success text-center"
      role="alert"
      *ngIf="successMessage"
    >
      {{ successMessage }}
    </div>
    <div class="row">
      <div class="form-group prodName">
        <input
          [(ngModel)]="name"
          type="text"
          name="product-name"
          id="product-name"
          class="form-control text-center"
          placeholder="Product Name"
          required
        />
        <span *ngIf="productForm.submitted && !name" class="text-danger errorname">Product Name is required.</span>
      </div>
      <div class="col-md-6">
        <div class="form-group mb-4">
          <label for="product-category" class="mb-2">Category</label>
          <select
            name="product-category"
            id="product-category"
            class="form-control"
            [(ngModel)]="category"
            style="width: 20rem;"
          >
            <option value="Software">Software</option>
            <option value="Hardware">Hardware</option>
            <option value="Services">Services</option>
          </select>
          <span *ngIf="productForm.submitted && !category" class="text-danger">Category is required.</span>
        </div>
        <div class="form-group mb-4">
          <label for="product-price" class="mb-2"> Price</label>
          <input
            [(ngModel)]="price"
            type="number"
            name="product-price"
            id="product-price"
            class="form-control"
            placeholder=""
          />
          <span *ngIf="productForm.submitted && !price" class="text-danger">Price is required.</span>
        </div>
        <label for="product-price" class="mb-2"> Kit</label> <br>
        <div class="form-group mb-4 d-flex" *ngIf="products && products.length > 0"> 
          <select
            [(ngModel)]="product_id"
            name="selectedProductId"
            class="form-control"
            style="width: 14rem;"
          >
            <option
              *ngFor="let prod of products"
              [value]="prod.id"
            >
              {{ prod.name }}
            </option>
          </select> &nbsp;
          <input  type="number" id="" class="border rounded w-25" placeholder="qty">
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group mb-4">
          <label for="product-model" class="mb-2"> Model</label>
          <input
            [(ngModel)]="model"
            type="text"
            name="product-model"
            id="product-model"
            class="form-control"
            placeholder=""
          />
          <span *ngIf="productForm.submitted && !model" class="text-danger">Product model is required.</span>
        </div>
        <div class="form-group mb-4">
          <label for="product-quantity" class="mb-2"> Quantity</label>
          <input
            [(ngModel)]="quantity"
            type="number"
            name="product-quantity"
            id="product-quantity"
            class="form-control"
            placeholder=""
          />
          <span *ngIf="productForm.submitted && !quantity" class="text-danger">Quantity is required.</span>
        </div>
        <div class="form-group mb-4">
          <label for="product-points" class="mb-2"> Points</label>
          <input
            [(ngModel)]="points"
            type="number"
            name="product-points"
            id="product-points"
            class="form-control"
            placeholder=""
          />
          <span *ngIf="productForm.submitted && !points" class="text-danger error">Points is required.</span>
        </div>
      </div>
      <div class="text-center pb-3">
        <button type="submit" class="btn btn-primary submitbtn">Submit</button>
      </div>
    </div>
  </form>
</div>
