<div class="container">
  <div class="addButton cursor">
    <a routerLink="/services" class="btn btn-sm" style="color: #12243b"
      ><i class="fas fa-plus"></i> Create Service</a
    >
  </div>
  <div>
    <h3>Reservation</h3>
    <form action="" class="">
      <div class="row">
        <div class="col-lg-12">
          <label for="customer">Customer:</label>
          <select
            name="customer"
            id="customer"
            [(ngModel)]="customer_name"
            class="form-control w-25 m-auto mb-3"
          >
            <option value="">Select a customer</option>
            <option
              *ngFor="let customer of customers"
              [value]="customer.full_name"
            >
              {{ customer.full_name }}
            </option>
          </select>
          
        </div>

        <div class="col-lg-6">
          <input
            type="datetime-local"
            name="when"
            id="when"
            [(ngModel)]="when"
            class="form-control mb-3"
            [disabled]="!service_id" 
            (change)="onDateChange()"
          />
          <input
            type="text"
            name="location"
            placeholder="Location"
            [(ngModel)]="location"
            class="form-control mb-3"
          />
        </div>
        <div class="col-lg-6">
          <select
            name="service"
            id="service"
            [(ngModel)]="service_id"
            class="form-control mb-3"
          >
            <option value="">Select a service</option>
            <option *ngFor="let service of services" [value]="service.id">
              {{ service.type }}
            </option>
          </select>
          <select name="status" [(ngModel)]="status" class="form-control mb-3">
            <option value="">Select a status</option>
            <option value="Pending">Pending</option>
            <option value="Waiting">Waiting</option>
            <option value="Cancelled">Cancelled</option>
            <option value="Paid">Paid</option>
          </select>
        </div>
      </div>
      <button
        class="btn btn-sm btn-outline-primary d-flex m-auto mb-5"
        (click)="saveReservation()"
      >
        Reserve
      </button>
    </form>
  </div>
  <table class="table">
    <thead>
      <tr>
        <th>Customer</th>
        <th>Date</th>
        <th>Service</th>
        <th>Location</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of reservation">
        <td>{{ item.customer_name }}</td>
        <td>{{ item.when }}</td>
        <td>{{ getServiceType(item.service_id) }}</td>
        <td>{{ item.location }}</td>
        <td>{{ item.status }}</td>
      </tr>
    </tbody>
  </table>
</div>
