<div class="addButton cursor float-end mb-1 me-2">
  <a routerLink="/services" class="btn btn-sm" style="color: #12243b"
    ><i class="fas fa-plus"></i> Create Service</a
  >
</div>
<div class="container">
  <div class="row w-100 pe-0 pb-3">
    <div class="col-lg-4 bg-white rounded shadow">
      <h4 class="mt-2 text-center">Reservation Form</h4>
      <label for="" class="mt-2">Customer</label>
      <select
        name="customer"
        id="customer"
        [(ngModel)]="customer_name"
        class="form-control m-auto mb-3"
      >
        <option *ngFor="let customer of customers" [value]="customer.full_name">
          {{ customer.full_name }}
        </option>
      </select>
      <label for="">Service</label>
      <select [(ngModel)]="service_id" class="form-control mb-3">
        <option value="">Select a service</option>
        <option *ngFor="let service of services" [value]="service.id">
          {{ service.type }}
        </option>
      </select>
      <label for="">Date</label>
      <input
        type="date"
        name="when"
        id="when"
        [(ngModel)]="when"
        class="form-control mb-3"
        (change)="onDateChange()"
      />
      <span *ngIf="!isDateAvailable" class="text-danger">
        Date is not available. Please choose another date.
      </span>
      <label for="">Location</label>
      <input
        type="text"
        name="location"
        [(ngModel)]="location"
        class="form-control mb-3"
      />
      <label for="">Status</label>
      <select name="status" [(ngModel)]="status" class="form-control mb-3">
        <option value="Pending">Pending</option>
        <option value="Waiting">Waiting</option>
        <option value="Cancelled">Cancelled</option>
        <option value="Paid">Paid</option>
      </select>
      <button
        class="btn btn-sm btn-outline-primary d-flex m-auto mb-3 mt-4"
        (click)="saveReservation()"
        [disabled]="!isDateAvailable"
      >
        Reserve
      </button>
    </div>
    <div class="col-lg-8">
      <table class="table shadow">
        <thead>
          <tr>
            <th>Customer</th>
            <th>Date</th>
            <th>Service</th>
            <th>Location</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of reservation">
            <td>{{ item.customer_name }}</td>
            <td>{{ item.when | date : "MMMM dd, yyyy" }}</td>
            <td>{{ getServiceType(item.service_id) }}</td>
            <td>{{ item.location }}</td>
            <td>{{ item.status }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
