{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/transactions/transactions.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../../../partials/loader/loader.component\";\nfunction TransactionPageComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-loader\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TransactionPageComponent_ng_template_11_tr_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\")(10, \"a\", 10);\n    i0.ɵɵtext(11, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function TransactionPageComponent_ng_template_11_tr_12_Template_button_click_12_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const item_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.deleteTransaction($event, item_r4.id));\n    });\n    i0.ɵɵtext(13, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.sale_id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.amount_rendered);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.change);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/transactions/\", item_r4.id, \"/edit\");\n  }\n}\nfunction TransactionPageComponent_ng_template_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 8)(1, \"thead\")(2, \"tr\")(3, \"th\");\n    i0.ɵɵtext(4, \"Transaction ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Sale ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Amount Rendered\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Change\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(11, \"tbody\");\n    i0.ɵɵtemplate(12, TransactionPageComponent_ng_template_11_tr_12_Template, 14, 5, \"tr\", 9);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.transactions);\n  }\n}\nexport class TransactionPageComponent {\n  constructor(transactionsService) {\n    this.transactionsService = transactionsService;\n    this.errors = [];\n    this.isLoading = false;\n  }\n  ngOnInit() {\n    this.getTransactionsLists();\n  }\n  getTransactionsLists() {\n    try {\n      this.isLoading = true;\n      this.transactionsService.getTransactionsList().subscribe(res => {\n        console.log(res.result);\n        this.transactions = res.result;\n        this.isLoading = false;\n      });\n    } catch (error) {\n      this.errors = error;\n    }\n  }\n  deleteTransaction(event, transactionId) {\n    if (confirm('Are you sure you want to delete this transaction?')) {\n      event.target.innerText = \"Deleting...\";\n      this.transactionsService.destroyTransaction(transactionId).subscribe(res => {\n        this.getTransactionsLists();\n        alert(res.message);\n      });\n    }\n  }\n}\n_class = TransactionPageComponent;\n_class.ɵfac = function TransactionPageComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.TransactionsService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-transaction-page\"]],\n  decls: 13,\n  vars: 2,\n  consts: [[1, \"mt-5\", \"container\"], [1, \"container\"], [1, \"card\"], [1, \"card-header\"], [\"routerLink\", \"/transactions/create\", 1, \"btn\", \"btn-primary\", \"float-end\"], [1, \"card-body\"], [4, \"ngIf\", \"ngIfElse\"], [\"elseTableBlock\", \"\"], [1, \"table\", \"table-striped\", \"table-bordered\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-success\", \"mx-2\", 3, \"routerLink\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", \"mx-2\", 3, \"click\"]],\n  template: function TransactionPageComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\")(1, \"div\", 0)(2, \"div\", 1)(3, \"div\", 2)(4, \"div\", 3)(5, \"h4\");\n      i0.ɵɵtext(6, \"Transactions \");\n      i0.ɵɵelementStart(7, \"a\", 4);\n      i0.ɵɵtext(8, \"Add Transaction\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(9, \"div\", 5);\n      i0.ɵɵtemplate(10, TransactionPageComponent_div_10_Template, 2, 0, \"div\", 6);\n      i0.ɵɵtemplate(11, TransactionPageComponent_ng_template_11_Template, 13, 1, \"ng-template\", null, 7, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(12);\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngIf\", ctx.isLoading)(\"ngIfElse\", _r1);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.RouterLink, i4.LoaderComponent],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵlistener","TransactionPageComponent_ng_template_11_tr_12_Template_button_click_12_listener","$event","restoredCtx","ɵɵrestoreView","_r6","item_r4","$implicit","ctx_r5","ɵɵnextContext","ɵɵresetView","deleteTransaction","id","ɵɵadvance","ɵɵtextInterpolate","sale_id","amount_rendered","change","ɵɵpropertyInterpolate1","ɵɵtemplate","TransactionPageComponent_ng_template_11_tr_12_Template","ɵɵproperty","ctx_r2","transactions","TransactionPageComponent","constructor","transactionsService","errors","isLoading","ngOnInit","getTransactionsLists","getTransactionsList","subscribe","res","console","log","result","error","event","transactionId","confirm","target","innerText","destroyTransaction","alert","message","ɵɵdirectiveInject","i1","TransactionsService","selectors","decls","vars","consts","template","TransactionPageComponent_Template","rf","ctx","TransactionPageComponent_div_10_Template","TransactionPageComponent_ng_template_11_Template","ɵɵtemplateRefExtractor","_r1"],"sources":["C:\\Users\\Capstone\\Desktop\\DITS\\ires-ui\\admin\\src\\app\\pages\\transactions\\transaction-page\\transaction-page.component.ts","C:\\Users\\Capstone\\Desktop\\DITS\\ires-ui\\admin\\src\\app\\pages\\transactions\\transaction-page\\transaction-page.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { TransactionsResponse, TransactionsService } from 'src/app/services/transactions/transactions.service';\n\n@Component({\n  selector: 'app-transaction-page',\n  templateUrl: './transaction-page.component.html',\n  styleUrls: ['./transaction-page.component.css']\n})\nexport class TransactionPageComponent {\n\n  constructor(private transactionsService: TransactionsService) { }\n\n  errors: any = [];\n  transactions!: TransactionsResponse [];\n  isLoading: boolean = false;\n\n  ngOnInit() {\n\n    this.getTransactionsLists();\n\n  }\n\n  getTransactionsLists(){\n    try {\n\n      this.isLoading = true;\n      \n      this.transactionsService.getTransactionsList().subscribe((res: any) =>{\n        console.log(res.result);\n        this.transactions = res.result\n        this.isLoading = false\n        \n      });\n\n    } catch (error) {\n      this.errors = error\n    }\n    \n  }\n\n  deleteTransaction(event: any, transactionId: number) {\n\n    if (confirm('Are you sure you want to delete this transaction?')) \n    {\n      event.target.innerText = \"Deleting...\"  \n\n      this.transactionsService.destroyTransaction(transactionId).subscribe((res: any) => {\n\n        this.getTransactionsLists();\n\n        alert(res.message);\n      })\n    }\n  }\n\n}\n","<div>\n    <div class=\"mt-5 container\">\n        <div class=\"container\">\n            <div class=\"card\">\n                <div class=\"card-header\">\n                    <h4>Transactions\n                        <a routerLink=\"/transactions/create\" class=\"btn btn-primary float-end\">Add Transaction</a>\n                    </h4>\n                </div>\n                <div class=\"card-body\">\n                        <div *ngIf=\"isLoading; else elseTableBlock\">\n                            <app-loader />\n                        </div>\n                        <ng-template #elseTableBlock>\n                            <table class=\"table table-striped table-bordered\" >\n                                <thead>\n                                    <tr>\n                                        <th>Transaction ID</th>\n                                        <th>Sale ID</th>\n                                        <th>Amount Rendered</th>\n                                        <th>Change</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr *ngFor=\"let item of transactions\" >\n                                        <td>{{item.id}}</td>\n                                        <td>{{item.sale_id}}</td>\n                                        <td>{{item.amount_rendered}}</td>\n                                        <td>{{item.change}}</td>\n                                        <td>\n                                            <a routerLink=\"/transactions/{{item.id}}/edit\" class=\"btn btn-success mx-2\">Edit</a>\n                                            <button type=\"button\" (click)=\"deleteTransaction($event, item.id)\" class=\"btn btn-danger mx-2\">Delete</button>\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </ng-template>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}